{"version":3,"file":"src_view_game-scene_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAqC;AACO;AACO;AACE;AACE;AACA;AACJ;AACA;AACD;AAK4B;AACA;AACI;AACA;AACF;AAEzE,MAAM,UAAU,GAAG,KAAK,EAAE,KAAY,EAAE,EAAE;IAC/C,MAAM,SAAS,GAAG,+DAAmB,CAAC,KAAK,CAAC,CAAC;IAC7C,YAAY;IACZ,IAAI,YAAY,GAAG,CAAC,uDAAI,EAAE,wDAAK,EAAE,yDAAM,EAAE,yDAAM,EAAE,uDAAI,EAAE,uDAAI,CAAC,CAAC;IAE7D,MAAM,eAAe,GACnB,MAAM,kEAAmC,CAAC,EAAE,EAAE,+CAAK,EAAE,EAAE,CAAC,CAAC;IAE3D,MAAM,YAAY,GAA8B,MAAM,OAAO,CAAC,GAAG,CAC/D,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CACxB,kEAAmC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,CAClD,CACF,CAAC;IAEF,MAAM,mBAAmB,GACvB,MAAM,kEAAmC,CAAC,EAAE,EAAE,yEAAa,EAAE,EAAE,CAAC,CAAC;IAEnE,mBAAmB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;QACxD,SAAS,CAAC,aAAa,GAAG,KAAK,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,MAAM,mBAAmB,GACvB,MAAM,kEAAmC,CAAC,EAAE,EAAE,0EAAa,EAAE,EAAE,CAAC,CAAC;IAEnE,mBAAmB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;QACxD,SAAS,CAAC,aAAa,GAAG,KAAK,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,MAAM,qBAAqB,GACzB,MAAM,kEAAmC,CAAC,EAAE,EAAE,4EAAe,EAAE,EAAE,CAAC,CAAC;IAErE,qBAAqB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;QAC1D,SAAS,CAAC,aAAa,GAAG,KAAK,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,MAAM,qBAAqB,GACzB,MAAM,kEAAmC,CAAC,EAAE,EAAE,4EAAe,EAAE,EAAE,CAAC,CAAC;IAErE,qBAAqB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;QAC1D,SAAS,CAAC,aAAa,GAAG,KAAK,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,MAAM,oBAAoB,GACxB,MAAM,kEAAmC,CAAC,EAAE,EAAE,2EAAc,EAAE,EAAE,CAAC,CAAC;IAEpE,oBAAoB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;QACzD,SAAS,CAAC,aAAa,GAAG,KAAK,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,MAAM,YAAY,GAAqB,EAAE,CAAC;IAC1C,MAAM,WAAW,GAAmB,EAAE,CAAC;IACvC,MAAM,UAAU,GAAG;QACjB,IAAI,EAAE,mBAAmB;QACzB,IAAI,EAAE,mBAAmB;QACzB,MAAM,EAAE,qBAAqB;QAC7B,MAAM,EAAE,qBAAqB;QAC7B,KAAK,EAAE,oBAAoB;KAC5B,CAAC;IAEF,MAAM,gBAAgB,GAAG,CAAC,IAAS,EAAE,KAAa,EAAE,EAAE;QACpD,MAAM,IAAI,GAAW,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACvC,IAAI,SAAS,GAAmB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAE,CAAC;QAClE,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QACtB,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;QACxB,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC;QAC5B,CAAC,SAAS,CAAC,SAAS,GAAG,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,kBAAkB,GAAG,EAAE,CAAC,CAAC;QACnE,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;QAC3B,SAAS,CAAC,IAAI,KAAK,QAAQ,IAAI,SAAS,CAAC,KAAK,KAAK,OAAO;YACxD,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,8CAAe,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAC3D,CAAC,CAAC,IAAI,CAAC;QACT,SAAS,CAAC,KAAK,KAAK,OAAO;YACzB,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC;YACxC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;QAE3C,OAAO,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC,CAAC;IAEF,wBAAwB;IACxB,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;QAC5B,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAChC,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;QAC3C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,GAAG,KAAK,CAAC,EAAE;YACb,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC;SACjC;QACD,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;AACnD,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;AC/GmC;AACO;AACD;AACW;AAG/C,MAAM,SAAS,GAAG,KAAK,EAC5B,MAAyB,EACzB,MAAsB,EACA,EAAE;;IACxB,MAAM,KAAK,GAAgB,IAAI,4CAAa,CAAC,MAAM,CAAC,CAAC;IACrD,MAAM,MAAM,GAAG,IAAI,sDAAuB,CACxC,QAAQ,EACR,IAAI,CAAC,EAAE,EACP,IAAI,CAAC,EAAE,GAAG,CAAC,EACX,EAAE,EACF,IAAI,8CAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAC5B,KAAK,CACN,CAAC;IACF,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC7B,MAAM,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC7B,MAAM,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAEnC,MAAM,KAAK,GAAG,IAAI,uDAAwB,CACxC,OAAO,EACP,IAAI,8CAAe,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAC9B,KAAK,CACN,CAAC;IACF,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC;IAEtB,MAAM,MAAM,GAAG,IAAI,gDAAiB,CAClC,WAAW,EACX,IAAI,8CAAe,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAC9B,IAAI,8CAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAC9B,EAAE,EACF,CAAC,EACD,KAAK,CACN,CAAC;IACF,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC;IACvB,MAAM,CAAC,OAAO,GAAG,IAAI,6CAAc,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAE7C,MAAM,MAAM,GAAG,IAAI,gDAAiB,CAClC,YAAY,EACZ,IAAI,8CAAe,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAC/B,IAAI,8CAAe,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAC7B,EAAE,EACF,CAAC,EACD,KAAK,CACN,CAAC;IACF,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC;IACvB,MAAM,CAAC,OAAO,GAAG,IAAI,6CAAc,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAE7C,MAAM,SAAS,GAAG,IAAI,gDAAiB,CACrC,WAAW,EACX,+CAAK,EACL,EAAE,IAAI,EAAE,GAAG,EAAE,EACb,KAAK,CACN,CAAC;IACF,SAAS,CAAC,QAAQ,GAAG,IAAI,8CAAe,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;IAEpD,mEAAuB,CAAC,KAAK,CAAC,CAAC;IAC/B,KAAK,CAAC,WAAW,GAAG,MAAM,wDAAU,CAAC,KAAK,CAAC,CAAC;IAE5C,oBAAoB;IACpB,iBAAiB;IACjB,MAAM,sBAAsB,GAAG,IAAI,qDAAsB,CAAC,KAAK,CAAC,CAAC;IAEjE,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAC1D,sBAAuB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAC1C,CAAC;IAEF,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CACnE,sBAAuB,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CACnD,CAAC;IAEF,uDAAuD;IACvD,sBAAsB,CAAC,kBAAkB,EAAE,CAAC;IAE5C,kBAAkB;IAClB,MAAM,sBAAsB,GAAG,IAAI,qDAAsB,CAAC,KAAK,CAAC,CAAC;IAEjE,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAC1D,sBAAuB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAC1C,CAAC;IACF,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CACnE,sBAAuB,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CACnD,CAAC;IAEF,sBAAsB,CAAC,kBAAkB,EAAE,CAAC;IAE5C,oBAAoB;IACpB,MAAM,wBAAwB,GAAG,IAAI,qDAAsB,CAAC,KAAK,CAAC,CAAC;IAEnE,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAC5D,wBAAyB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAC5C,CAAC;IACF,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CACrE,wBAAyB,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CACrD,CAAC;IAEF,wBAAwB,CAAC,kBAAkB,EAAE,CAAC;IAE9C,oBAAoB;IACpB,MAAM,wBAAwB,GAAG,IAAI,qDAAsB,CAAC,KAAK,CAAC,CAAC;IAEnE,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAC5D,wBAAyB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAC5C,CAAC;IACF,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CACrE,wBAAyB,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CACrD,CAAC;IAEF,wBAAwB,CAAC,kBAAkB,EAAE,CAAC;IAE9C,mBAAmB;IACnB,MAAM,uBAAuB,GAAG,IAAI,qDAAsB,CAAC,KAAK,CAAC,CAAC;IAElE,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAC3D,uBAAwB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAC3C,CAAC;IACF,iBAAK,CAAC,WAAW,0CAAE,UAAU,0CAAE,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CACpE,uBAAwB,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CACpD,CAAC;IAEF,uBAAuB,CAAC,kBAAkB,EAAE,CAAC;IAE7C,YAAY;IAEZ,KAAK,CAAC,mBAAmB,GAAG;QAC1B,IAAI,EAAE,sBAAsB;QAC5B,MAAM,EAAE,wBAAwB;QAChC,IAAI,EAAE,sBAAsB;QAC5B,MAAM,EAAE,wBAAwB;QAChC,KAAK,EAAE,uBAAuB;KAC/B,CAAC;IAEF,WAAK,CAAC,WAAW,0CAAE,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;QACnD,IAAI,GAAG,KAAK,CAAC,EAAE;YACb,MAAM,QAAQ,GAAG,IAAI,uDAAwB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAC9D,QAAQ,CAAC,YAAY,GAAG,IAAI,6CAAc,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7D,QAAQ,CAAC,aAAa,GAAG,IAAI,6CAAc,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC9D,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;SAC1B;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,KAAK,CAAC;AACf,CAAC,CAAC","sources":["webpack://chess/./src/view/game-assets.ts","webpack://chess/./src/view/game-scene.ts"],"sourcesContent":["import * as BABYLON from \"babylonjs\";\nimport board from \"../../assets/board.gltf\";\nimport king from \"../../assets/pieces/kingv3.gltf\";\nimport queen from \"../../assets/pieces/queenv3.gltf\";\nimport bishop from \"../../assets/pieces/bishopv3.gltf\";\nimport knight from \"../../assets/pieces/knightv3.gltf\";\nimport rook from \"../../assets/pieces/rookv3.gltf\";\nimport pawn from \"../../assets/pieces/pawnv3.gltf\";\nimport { createMeshMaterials } from \"./materials\";\nimport { Scene } from \"babylonjs/scene\";\nimport { ISceneLoaderAsyncResult } from \"babylonjs/Loading/sceneLoader\";\nimport { AbstractMesh } from \"babylonjs/Meshes/abstractMesh\";\nimport { AssetContainer } from \"babylonjs\";\nimport pawnAnimation from \"../../assets/piece-animations/pawn-animation.gltf\";\nimport rookAnimation from \"../../assets/piece-animations/rook-animation.gltf\";\nimport bishopAnimation from \"../../assets/piece-animations/bishop-animation.gltf\";\nimport knightAnimation from \"../../assets/piece-animations/knight-animation.gltf\";\nimport queenAnimation from \"../../assets/piece-animations/queen-animation.gltf\";\n\nexport const gameAssets = async (scene: Scene) => {\n  const materials = createMeshMaterials(scene);\n  //Game Scene\n  let meshesToLoad = [king, queen, knight, bishop, rook, pawn];\n\n  const loadedBoardMesh: ISceneLoaderAsyncResult =\n    await BABYLON.SceneLoader.ImportMeshAsync(\"\", board, \"\");\n\n  const loadedMeshes: ISceneLoaderAsyncResult[] = await Promise.all(\n    meshesToLoad.map((mesh) =>\n      BABYLON.SceneLoader.ImportMeshAsync(\"\", mesh, \"\")\n    )\n  );\n\n  const loadedPawnAnimation: ISceneLoaderAsyncResult =\n    await BABYLON.SceneLoader.ImportMeshAsync(\"\", pawnAnimation, \"\");\n\n  loadedPawnAnimation.animationGroups.forEach((animation) => {\n    animation.loopAnimation = false;\n  });\n\n  const loadedRookAnimation: ISceneLoaderAsyncResult =\n    await BABYLON.SceneLoader.ImportMeshAsync(\"\", rookAnimation, \"\");\n\n  loadedRookAnimation.animationGroups.forEach((animation) => {\n    animation.loopAnimation = false;\n  });\n\n  const loadedBishopAnimation: ISceneLoaderAsyncResult =\n    await BABYLON.SceneLoader.ImportMeshAsync(\"\", bishopAnimation, \"\");\n\n  loadedBishopAnimation.animationGroups.forEach((animation) => {\n    animation.loopAnimation = false;\n  });\n\n  const loadedKnightAnimation: ISceneLoaderAsyncResult =\n    await BABYLON.SceneLoader.ImportMeshAsync(\"\", knightAnimation, \"\");\n\n  loadedKnightAnimation.animationGroups.forEach((animation) => {\n    animation.loopAnimation = false;\n  });\n\n  const loadedQueenAnimation: ISceneLoaderAsyncResult =\n    await BABYLON.SceneLoader.ImportMeshAsync(\"\", queenAnimation, \"\");\n\n  loadedQueenAnimation.animationGroups.forEach((animation) => {\n    animation.loopAnimation = false;\n  });\n\n  const piecesMeshes: ChessPieceMesh[] = [];\n  const boardMeshes: AbstractMesh[] = [];\n  const animations = {\n    Pawn: loadedPawnAnimation,\n    Rook: loadedRookAnimation,\n    Bishop: loadedBishopAnimation,\n    Knight: loadedKnightAnimation,\n    Queen: loadedQueenAnimation,\n  };\n\n  const loadMeshSettings = (mesh: any, color: string) => {\n    const name: string = mesh.meshes[1].id;\n    let finalMesh: ChessPieceMesh = mesh.meshes[1].clone(name, null)!;\n    finalMesh.name = name;\n    finalMesh.color = color;\n    finalMesh.isPickable = true;\n    (finalMesh.isVisible = false), (finalMesh.scalingDeterminant = 50);\n    finalMesh.position.y = 0.5;\n    finalMesh.name === \"Knight\" && finalMesh.color === \"White\"\n      ? (finalMesh.rotation = new BABYLON.Vector3(0, Math.PI, 0))\n      : null;\n    finalMesh.color === \"White\"\n      ? (finalMesh.material = materials.white)\n      : (finalMesh.material = materials.black);\n\n    return piecesMeshes.push(finalMesh);\n  };\n\n  //Sort the loaded meshes\n  loadedMeshes.forEach((mesh) => {\n    loadMeshSettings(mesh, \"White\");\n    loadMeshSettings(mesh, \"Black\");\n  });\n\n  loadedBoardMesh.meshes.forEach((mesh, idx) => {\n    mesh.isPickable = false;\n    if (idx !== 1) {\n      mesh.material = materials.board;\n    }\n    boardMeshes.push(mesh);\n  });\n\n  return { piecesMeshes, boardMeshes, animations };\n};\n\nexport interface CustomScene extends Scene {\n  finalMeshes?: {\n    piecesMeshes: ChessPieceMesh[];\n    boardMeshes: AbstractMesh[];\n    animations: Animation;\n  };\n  meshesToRender?: AbstractMesh[];\n  animationsContainer?: Animation;\n}\n\nexport interface ChessPieceMesh extends AbstractMesh {\n  name: string;\n  color?: string;\n}\n\ntype Animation = {\n  Pawn: AssetContainer | ISceneLoaderAsyncResult;\n  Bishop: AssetContainer | ISceneLoaderAsyncResult;\n  Rook: AssetContainer | ISceneLoaderAsyncResult;\n  Knight: AssetContainer | ISceneLoaderAsyncResult;\n  Queen: AssetContainer | ISceneLoaderAsyncResult;\n};\n","import * as BABYLON from \"babylonjs\";\nimport space from \"../../assets/space.webp\";\nimport { gameAssets } from \"./game-assets\";\nimport { createMovementMaterials } from \"./materials\";\nimport { CustomScene } from \"./game-assets\";\n\nexport const gameScene = async (\n  canvas: HTMLCanvasElement,\n  engine: BABYLON.Engine\n): Promise<CustomScene> => {\n  const scene: CustomScene = new BABYLON.Scene(engine);\n  const camera = new BABYLON.ArcRotateCamera(\n    \"camera\",\n    Math.PI,\n    Math.PI / 4,\n    70,\n    new BABYLON.Vector3(0, 0, 0),\n    scene\n  );\n  camera.lowerRadiusLimit = 25;\n  camera.upperRadiusLimit = 70;\n  camera.attachControl(canvas, true);\n\n  const light = new BABYLON.HemisphericLight(\n    \"light\",\n    new BABYLON.Vector3(0, 100, 0),\n    scene\n  );\n  light.intensity = 0.8;\n\n  const light2 = new BABYLON.SpotLight(\n    \"spotLight\",\n    new BABYLON.Vector3(0, 20, 30),\n    new BABYLON.Vector3(0, 0, -30),\n    90,\n    1,\n    scene\n  );\n  light2.intensity = 0.8;\n  light2.diffuse = new BABYLON.Color3(0, 0, 0);\n\n  const light3 = new BABYLON.SpotLight(\n    \"spotLight2\",\n    new BABYLON.Vector3(0, 20, -30),\n    new BABYLON.Vector3(0, 0, 30),\n    90,\n    1,\n    scene\n  );\n  light3.intensity = 0.8;\n  light3.diffuse = new BABYLON.Color3(0, 0, 0);\n\n  const photoDome = new BABYLON.PhotoDome(\n    \"spaceDome\",\n    space,\n    { size: 500 },\n    scene\n  );\n  photoDome.rotation = new BABYLON.Vector3(0, 1, 1.5);\n\n  createMovementMaterials(scene);\n  scene.finalMeshes = await gameAssets(scene);\n\n  //#region Animations\n  //Pawn Animations\n  const pawnAnimationContainer = new BABYLON.AssetContainer(scene);\n\n  scene.finalMeshes?.animations?.Pawn.meshes.forEach((mesh) =>\n    pawnAnimationContainer!.meshes.push(mesh)\n  );\n\n  scene.finalMeshes?.animations?.Pawn.animationGroups.forEach((anim) =>\n    pawnAnimationContainer!.animationGroups.push(anim)\n  );\n\n  // pawnAnimationContainer.meshes.forEach(mesh => mesh.)\n  pawnAnimationContainer.removeAllFromScene();\n\n  // Rook Animations\n  const rookAnimationContainer = new BABYLON.AssetContainer(scene);\n\n  scene.finalMeshes?.animations?.Rook.meshes.forEach((mesh) =>\n    rookAnimationContainer!.meshes.push(mesh)\n  );\n  scene.finalMeshes?.animations?.Rook.animationGroups.forEach((anim) =>\n    rookAnimationContainer!.animationGroups.push(anim)\n  );\n\n  rookAnimationContainer.removeAllFromScene();\n\n  // Bishop Animations\n  const bishopAnimationContainer = new BABYLON.AssetContainer(scene);\n\n  scene.finalMeshes?.animations?.Bishop.meshes.forEach((mesh) =>\n    bishopAnimationContainer!.meshes.push(mesh)\n  );\n  scene.finalMeshes?.animations?.Bishop.animationGroups.forEach((anim) =>\n    bishopAnimationContainer!.animationGroups.push(anim)\n  );\n\n  bishopAnimationContainer.removeAllFromScene();\n\n  // Knight Animations\n  const knightAnimationContainer = new BABYLON.AssetContainer(scene);\n\n  scene.finalMeshes?.animations?.Knight.meshes.forEach((mesh) =>\n    knightAnimationContainer!.meshes.push(mesh)\n  );\n  scene.finalMeshes?.animations?.Knight.animationGroups.forEach((anim) =>\n    knightAnimationContainer!.animationGroups.push(anim)\n  );\n\n  knightAnimationContainer.removeAllFromScene();\n\n  // Queen Animations\n  const queenAnimationContainer = new BABYLON.AssetContainer(scene);\n\n  scene.finalMeshes?.animations?.Queen.meshes.forEach((mesh) =>\n    queenAnimationContainer!.meshes.push(mesh)\n  );\n  scene.finalMeshes?.animations?.Queen.animationGroups.forEach((anim) =>\n    queenAnimationContainer!.animationGroups.push(anim)\n  );\n\n  queenAnimationContainer.removeAllFromScene();\n\n  //#endregion\n\n  scene.animationsContainer = {\n    Pawn: pawnAnimationContainer,\n    Bishop: bishopAnimationContainer,\n    Rook: rookAnimationContainer,\n    Knight: knightAnimationContainer,\n    Queen: queenAnimationContainer,\n  };\n\n  scene.finalMeshes?.boardMeshes.forEach((mesh, idx) => {\n    if (idx === 2) {\n      const material = new BABYLON.StandardMaterial(\"light\", scene);\n      material.diffuseColor = new BABYLON.Color3(0.01, 0.01, 0.01);\n      material.specularColor = new BABYLON.Color3(0.01, 0.01, 0.01);\n      mesh.material = material;\n    }\n  });\n\n  return scene;\n};\n"],"names":[],"sourceRoot":""}